{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/STUDY/frontend/app/components/Login.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [remember, setRemember] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validation\r\n    if (!username.trim()) {\r\n      Swal.fire({\r\n        title: 'ข้อมูลไม่ถูกต้อง!',\r\n        text: 'กรุณากรอกชื่อผู้ใช้งาน',\r\n        icon: 'error',\r\n        confirmButtonText: 'ตกลง',\r\n        confirmButtonColor: '#DC143C',\r\n        background: 'rgba(20, 0, 0, 0.95)',\r\n        color: '#ffffff',\r\n        customClass: {\r\n          popup: 'swal-dark-theme'\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (username.length < 3) {\r\n      Swal.fire({\r\n        title: 'ข้อมูลไม่ถูกต้อง!',\r\n        text: 'ชื่อผู้ใช้งานต้องมีอย่างน้อย 3 ตัวอักษร',\r\n        icon: 'error',\r\n        confirmButtonText: 'ตกลง',\r\n        confirmButtonColor: '#DC143C',\r\n        background: 'rgba(20, 0, 0, 0.95)',\r\n        color: '#ffffff',\r\n        customClass: {\r\n          popup: 'swal-dark-theme'\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!password.trim()) {\r\n      Swal.fire({\r\n        title: 'ข้อมูลไม่ถูกต้อง!',\r\n        text: 'กรุณากรอกรหัสผ่าน',\r\n        icon: 'error',\r\n        confirmButtonText: 'ตกลง',\r\n        confirmButtonColor: '#DC143C',\r\n        background: 'rgba(20, 0, 0, 0.95)',\r\n        color: '#ffffff',\r\n        customClass: {\r\n          popup: 'swal-dark-theme'\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch('http://itdev.cmtc.ac.th:3000/api/auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      console.log(username);\r\n\r\n      if (data.token) {\r\n        localStorage.setItem('token', data.token);\r\n        Swal.fire({\r\n          title: 'สำเร็จ!',\r\n          text: 'เข้าสู่ระบบสำเร็จ!',\r\n          icon: 'success',\r\n          confirmButtonText: 'ตกลง',\r\n          confirmButtonColor: '#DC143C',\r\n          background: 'rgba(20, 0, 0, 0.95)',\r\n          color: '#ffffff',\r\n          showConfirmButton: false,\r\n          timer: 2000,\r\n          customClass: {\r\n            popup: 'swal-dark-theme'\r\n          }\r\n        }).then(function () {\r\n          window.location.href = \"/admin/users\";\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: 'เข้าสู่ระบบไม่สำเร็จ!',\r\n          text: 'ชื่อผู้ใช้งานหรือรหัสผ่านไม่ถูกต้อง',\r\n          icon: 'warning',\r\n          confirmButtonText: 'ตกลง',\r\n          confirmButtonColor: '#DC143C',\r\n          background: 'rgba(20, 0, 0, 0.95)',\r\n          color: '#ffffff',\r\n          showConfirmButton: false,\r\n          timer: 2000,\r\n          customClass: {\r\n            popup: 'swal-dark-theme'\r\n          }\r\n        }).then(function () {\r\n          router.push('/signin');\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      Swal.fire({\r\n        title: 'เกิดข้อผิดพลาด!',\r\n        text: 'ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้',\r\n        icon: 'error',\r\n        confirmButtonText: 'ตกลง',\r\n        confirmButtonColor: '#DC143C',\r\n        background: 'rgba(20, 0, 0, 0.95)',\r\n        color: '#ffffff',\r\n        customClass: {\r\n          popup: 'swal-dark-theme'\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div style={{\r\n      minHeight: '100vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      background: 'linear-gradient(135deg, #1a0000 0%, #4d0000 25%, #800000 50%, #660000 75%, #330000 100%)',\r\n      fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n      padding: '2rem'\r\n    }}>\r\n      {/* Bootstrap CSS */}\r\n      <link\r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      \r\n      {/* Custom CSS */}\r\n      <style jsx>{`\r\n        .login-card {\r\n          background: rgba(20, 0, 0, 0.9);\r\n          backdrop-filter: blur(15px);\r\n          border: 1px solid rgba(139, 0, 0, 0.3);\r\n          border-radius: 20px;\r\n          box-shadow: \r\n            0 25px 50px rgba(139, 0, 0, 0.3),\r\n            inset 0 1px 0 rgba(255, 255, 255, 0.1);\r\n          overflow: hidden;\r\n          transition: all 0.4s ease;\r\n        }\r\n        \r\n        .login-card:hover {\r\n          transform: translateY(-8px);\r\n          box-shadow: \r\n            0 35px 60px rgba(139, 0, 0, 0.4),\r\n            inset 0 1px 0 rgba(255, 255, 255, 0.1);\r\n        }\r\n        \r\n        .login-header {\r\n          background: linear-gradient(135deg, #8B0000 0%, #DC143C 30%, #FF0000 70%, #B22222 100%);\r\n          color: white;\r\n          padding: 2rem;\r\n          text-align: center;\r\n          box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.2);\r\n        }\r\n        \r\n        .login-header h2 {\r\n          margin: 0;\r\n          font-weight: 600;\r\n          font-size: 1.8rem;\r\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .login-header p {\r\n          margin: 0.5rem 0 0 0;\r\n          opacity: 0.9;\r\n          font-size: 0.95rem;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\r\n        }\r\n        \r\n        .form-control {\r\n          background: rgba(40, 0, 0, 0.7);\r\n          border: 2px solid rgba(139, 0, 0, 0.4);\r\n          border-radius: 12px;\r\n          padding: 0.75rem 1rem;\r\n          font-size: 1rem;\r\n          color: #ffffff;\r\n          transition: all 0.3s ease;\r\n          box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.3);\r\n        }\r\n        \r\n        .form-control::placeholder {\r\n          color: rgba(255, 255, 255, 0.6);\r\n        }\r\n        \r\n        .form-control:focus {\r\n          background: rgba(50, 0, 0, 0.8);\r\n          border-color: #DC143C;\r\n          box-shadow: \r\n            0 0 0 0.2rem rgba(220, 20, 60, 0.25),\r\n            inset 2px 2px 5px rgba(0, 0, 0, 0.3);\r\n        }\r\n        \r\n        .form-label {\r\n          font-weight: 500;\r\n          color: #ffffff;\r\n          margin-bottom: 0.5rem;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .btn-login {\r\n          background: linear-gradient(135deg, #8B0000 0%, #DC143C 50%, #FF0000 100%);\r\n          border: none;\r\n          border-radius: 12px;\r\n          padding: 0.75rem 2rem;\r\n          font-weight: 600;\r\n          font-size: 1rem;\r\n          color: white;\r\n          transition: all 0.3s ease;\r\n          width: 100%;\r\n          box-shadow: \r\n            0 5px 15px rgba(139, 0, 0, 0.4),\r\n            inset 0 1px 0 rgba(255, 255, 255, 0.2);\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .btn-login:hover {\r\n          background: linear-gradient(135deg, #A00000 0%, #FF1493 50%, #FF4500 100%);\r\n          transform: translateY(-3px);\r\n          box-shadow: \r\n            0 8px 25px rgba(139, 0, 0, 0.6),\r\n            inset 0 1px 0 rgba(255, 255, 255, 0.2);\r\n        }\r\n        \r\n        .form-check-input {\r\n          background-color: rgba(40, 0, 0, 0.7);\r\n          border-radius: 6px;\r\n          border: 2px solid rgba(139, 0, 0, 0.4);\r\n          box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.3);\r\n        }\r\n        \r\n        .form-check-input:checked {\r\n          background-color: #DC143C;\r\n          border-color: #DC143C;\r\n          box-shadow: \r\n            0 2px 5px rgba(220, 20, 60, 0.4),\r\n            inset 1px 1px 3px rgba(0, 0, 0, 0.3);\r\n        }\r\n        \r\n        .form-check-label {\r\n          font-size: 0.9rem;\r\n          color: #ffffff;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .links {\r\n          text-align: center;\r\n          margin-top: 1.5rem;\r\n        }\r\n        \r\n        .links a {\r\n          color: #FF6B6B;\r\n          text-decoration: none;\r\n          font-size: 0.9rem;\r\n          transition: all 0.3s ease;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .links a:hover {\r\n          color: #FF4444;\r\n          text-decoration: underline;\r\n          text-shadow: 1px 1px 3px rgba(255, 68, 68, 0.5);\r\n        }\r\n        \r\n        .links span {\r\n          color: rgba(255, 255, 255, 0.6);\r\n        }\r\n        \r\n        .icon {\r\n          font-size: 3rem;\r\n          margin-bottom: 1rem;\r\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .input-group {\r\n          position: relative;\r\n        }\r\n        \r\n        .input-icon {\r\n          position: absolute;\r\n          left: 1rem;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          color: rgba(255, 255, 255, 0.7);\r\n          z-index: 10;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n        }\r\n        \r\n        .form-control.with-icon {\r\n          padding-left: 2.5rem;\r\n        }\r\n          \r\n        .card-body {\r\n          background: rgba(30, 0, 0, 0.5);\r\n        }\r\n\r\n        /* SweetAlert2 Dark Theme Customization */\r\n        :global(.swal-dark-theme) {\r\n          border: 2px solid rgba(139, 0, 0, 0.5) !important;\r\n          border-radius: 15px !important;\r\n          box-shadow: 0 20px 40px rgba(139, 0, 0, 0.4) !important;\r\n        }\r\n\r\n        :global(.swal2-popup.swal-dark-theme .swal2-title) {\r\n          color: #ffffff !important;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7) !important;\r\n        }\r\n\r\n        :global(.swal2-popup.swal-dark-theme .swal2-html-container) {\r\n          color: #ffffff !important;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\r\n        }\r\n      `}</style>\r\n      \r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-md-6 col-lg-4\">\r\n            <div className=\"card login-card\">\r\n              <div className=\"login-header\">\r\n                <div className=\"icon\">🔐</div>\r\n                <h2>เข้าสู่ระบบ</h2>\r\n                <p>ยินดีต้อนรับกลับมา!</p>\r\n              </div>\r\n              \r\n              <div className=\"card-body p-4\">\r\n                <form onSubmit={handleLogin}>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"username\" className=\"form-label\">\r\n                      ชื่อผู้ใช้งาน\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <span className=\"input-icon\">👤</span>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control with-icon\"\r\n                        id=\"username\"\r\n                        name=\"username\"\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                        placeholder=\"กรอกชื่อผู้ใช้งาน\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">\r\n                      รหัสผ่าน\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <span className=\"input-icon\">🔒</span>\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control with-icon\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"กรอกรหัสผ่าน\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3 form-check\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"form-check-input\"\r\n                      id=\"remember\"\r\n                      name=\"remember\"\r\n                      checked={remember}\r\n                      onChange={(e) => setRemember(e.target.checked)}\r\n                    />\r\n                    <label className=\"form-check-label\" htmlFor=\"remember\">\r\n                      จำฉันไว้\r\n                    </label>\r\n                  </div>\r\n                  \r\n                  <button type=\"submit\" className=\"btn btn-primary btn-login\">\r\n                    🔑 เข้าสู่ระบบ\r\n                  </button>\r\n                </form>\r\n                \r\n                <div className=\"links\">\r\n                  <Link href=\"/register\">สมัครสมาชิก</Link>\r\n                  <span className=\"mx-2\">|</span>\r\n                  <Link href=\"/forgot-password\">ลืมรหัสผ่าน</Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}