{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/STUDY/Free%20Time/frontend/app/admin/users/page.js"],"sourcesContent":["'use client';\r\nimport Link from 'next/link'\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function Page() {\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getUsers() {\r\n      try {\r\n        const res = await fetch('http://itdev.cmtc.ac.th:3000/api/users');\r\n        if (!res.ok) {\r\n          console.error('Failed to fetch data');\r\n          return;\r\n        }\r\n        const data = await res.json();\r\n        setItems(data);\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n      }\r\n    }\r\n \r\n    getUsers()\r\n    const interval = setInterval(getUsers, 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      const res = await fetch(`http://itdev.cmtc.ac.th:3000/api/users/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Accept: 'application/json',\r\n        },\r\n      });\r\n      const result = await res.json();\r\n      console.log(result);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style jsx>{`\r\n        body {\r\n          background: linear-gradient(135deg, #1a1a1a 0%, #2d1b2d 50%, #1a1a1a 100%);\r\n          min-height: 100vh;\r\n          color: #ffffff;\r\n          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        }\r\n        \r\n        .container {\r\n          background: rgba(0, 0, 0, 0.4);\r\n          border-radius: 15px;\r\n          backdrop-filter: blur(10px);\r\n          box-shadow: 0 8px 32px rgba(220, 38, 38, 0.2);\r\n          padding: 25px;\r\n          margin: 0 auto;\r\n          max-width: 100%;\r\n          overflow-x: auto;\r\n        }\r\n        \r\n        .card {\r\n          background: linear-gradient(145deg, #2a2a2a, #1a1a1a);\r\n          border: 2px solid rgba(220, 38, 38, 0.4);\r\n          border-radius: 15px;\r\n          box-shadow: \r\n            0 4px 25px rgba(0, 0, 0, 0.6),\r\n            inset 0 1px 0 rgba(220, 38, 38, 0.2);\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .card-header {\r\n          background: linear-gradient(90deg, #dc2626, #991b1b, #7f1d1d);\r\n          color: #ffffff;\r\n          font-size: 1.8rem;\r\n          font-weight: bold;\r\n          text-align: center;\r\n          padding: 20px;\r\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);\r\n          border-bottom: 3px solid rgba(220, 38, 38, 0.6);\r\n          position: relative;\r\n        }\r\n        \r\n        .card-header::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\r\n          animation: shine 3s infinite;\r\n        }\r\n        \r\n        @keyframes shine {\r\n          0% { left: -100%; }\r\n          100% { left: 100%; }\r\n        }\r\n        \r\n        .card-body {\r\n          background: rgba(20, 20, 20, 0.95);\r\n          padding: 25px;\r\n        }\r\n        \r\n        .table-container {\r\n          overflow-x: auto;\r\n          border-radius: 10px;\r\n          box-shadow: inset 0 2px 15px rgba(0, 0, 0, 0.4);\r\n        }\r\n        \r\n        .table {\r\n          background: rgba(35, 35, 35, 0.9);\r\n          border-radius: 10px;\r\n          overflow: hidden;\r\n          width: 100%;\r\n          min-width: 1200px;\r\n          font-size: 0.95rem;\r\n          margin-bottom: 0;\r\n        }\r\n        \r\n        .table thead th {\r\n          background: linear-gradient(135deg, #7f1d1d, #991b1b, #dc2626);\r\n          color: #ffffff;\r\n          border: none;\r\n          padding: 18px 12px;\r\n          font-weight: 700;\r\n          text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.8);\r\n          position: relative;\r\n          font-size: 1rem;\r\n          white-space: nowrap;\r\n          text-align: center;\r\n        }\r\n        \r\n        .table thead th::after {\r\n          content: '';\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          height: 3px;\r\n          background: linear-gradient(90deg, #dc2626, #fca5a5, #dc2626);\r\n          opacity: 0.8;\r\n        }\r\n        \r\n        .table tbody tr {\r\n          background: linear-gradient(180deg, rgba(45, 45, 45, 0.9), rgba(35, 35, 35, 0.95));\r\n          transition: all 0.3s ease;\r\n          border-bottom: 1px solid rgba(220, 38, 38, 0.2);\r\n        }\r\n        \r\n        .table tbody tr:hover {\r\n          background: linear-gradient(180deg, rgba(127, 29, 29, 0.4), rgba(153, 27, 27, 0.3));\r\n          transform: scale(1.005);\r\n          box-shadow: 0 4px 20px rgba(220, 38, 38, 0.3);\r\n        }\r\n        \r\n        .table tbody td {\r\n          color:rgb(0, 0, 0);\r\n          border: none;\r\n          padding: 15px 12px;\r\n          vertical-align: middle;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);\r\n          font-weight: 500;\r\n          font-size: 0.9rem;\r\n          max-width: 150px;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n        \r\n        .table-striped tbody tr:nth-child(odd) {\r\n          background: linear-gradient(180deg, rgba(50, 50, 50, 0.7), rgba(40, 40, 40, 0.8));\r\n        }\r\n        \r\n        /* กำหนดความกว้างของแต่ละคอลัมน์ */\r\n        .col-id { width: 60px; min-width: 60px; }\r\n        .col-name { width: 120px; min-width: 120px; }\r\n        .col-username { width: 110px; min-width: 110px; }\r\n        .col-password { width: 200px; min-width: 200px; }\r\n        .col-address { width: 150px; min-width: 150px; }\r\n        .col-sex { width: 70px; min-width: 70px; }\r\n        .col-birthday { width: 120px; min-width: 120px; }\r\n        .col-action { width: 90px; min-width: 90px; }\r\n        \r\n        .btn {\r\n          border: none;\r\n          padding: 10px 16px;\r\n          border-radius: 8px;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);\r\n          position: relative;\r\n          overflow: hidden;\r\n          font-size: 0.85rem;\r\n          margin: 2px;\r\n        }\r\n        \r\n        .btn::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\r\n          transition: left 0.5s;\r\n        }\r\n        \r\n        .btn:hover::before {\r\n          left: 100%;\r\n        }\r\n        \r\n        .btn-warning {\r\n          background: linear-gradient(135deg, #f59e0b, #d97706);\r\n          color: white;\r\n          box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);\r\n        }\r\n        \r\n        .btn-warning:hover {\r\n          background: linear-gradient(135deg, #d97706, #b45309);\r\n          box-shadow: 0 6px 20px rgba(245, 158, 11, 0.6);\r\n          transform: translateY(-2px);\r\n        }\r\n        \r\n        .btn-danger {\r\n          background: linear-gradient(135deg, #dc2626, #991b1b);\r\n          color: white;\r\n          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);\r\n        }\r\n        \r\n        .btn-danger:hover {\r\n          background: linear-gradient(135deg, #991b1b, #7f1d1d);\r\n          box-shadow: 0 6px 20px rgba(220, 38, 38, 0.6);\r\n          transform: translateY(-2px);\r\n        }\r\n        \r\n        .text-center {\r\n          text-align: center;\r\n          font-weight: 700;\r\n        }\r\n        \r\n        /* ปรับแต่ง Scrollbar */\r\n        ::-webkit-scrollbar {\r\n          width: 12px;\r\n          height: 12px;\r\n        }\r\n        \r\n        ::-webkit-scrollbar-track {\r\n          background: rgba(30, 30, 30, 0.8);\r\n          border-radius: 6px;\r\n        }\r\n        \r\n        ::-webkit-scrollbar-thumb {\r\n          background: linear-gradient(45deg, #dc2626, #991b1b);\r\n          border-radius: 6px;\r\n          border: 2px solid rgba(30, 30, 30, 0.8);\r\n        }\r\n        \r\n        ::-webkit-scrollbar-thumb:hover {\r\n          background: linear-gradient(45deg, #991b1b, #7f1d1d);\r\n        }\r\n        \r\n        /* เพิ่ม glow effects */\r\n        .card {\r\n          position: relative;\r\n        }\r\n        \r\n        .card::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: -3px;\r\n          left: -3px;\r\n          right: -3px;\r\n          bottom: -3px;\r\n          background: linear-gradient(45deg, #dc2626, transparent, #dc2626, transparent, #dc2626);\r\n          border-radius: 18px;\r\n          z-index: -1;\r\n          opacity: 0.6;\r\n          filter: blur(2px);\r\n        }\r\n        \r\n        /* Responsive adjustments */\r\n        @media (max-width: 768px) {\r\n          .container {\r\n            padding: 15px;\r\n          }\r\n          \r\n          .table {\r\n            font-size: 0.8rem;\r\n          }\r\n          \r\n          .btn {\r\n            padding: 8px 12px;\r\n            font-size: 0.75rem;\r\n          }\r\n        }\r\n      `}</style>\r\n      \r\n      <br /><br /><br /><br />\r\n      <div className=\"container\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            Users Management System\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"table-container\">\r\n              <table className=\"table table-striped table-hover\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"col-id text-center\">#</th>\r\n                    <th className=\"col-name\">Firstname</th>\r\n                    <th className=\"col-name\">Fullname</th>\r\n                    <th className=\"col-name\">Lastname</th>\r\n                    <th className=\"col-username\">Username</th>\r\n                    <th className=\"col-password\">Password</th>\r\n                    <th className=\"col-address\">Address</th>\r\n                    <th className=\"col-sex\">Sex</th>\r\n                    <th className=\"col-birthday\">Birthday</th>\r\n                    <th className=\"col-action\">Edit</th>\r\n                    <th className=\"col-action\">Delete</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {items.map((item) => (\r\n                    <tr key={item.id}>\r\n                      <td className=\"text-center\">{item.id}</td>\r\n                      <td title={item.firstname}>{item.firstname}</td>\r\n                      <td title={item.fullname}>{item.fullname}</td>\r\n                      <td title={item.lastname}>{item.lastname}</td>\r\n                      <td title={item.username}>{item.username}</td>\r\n                      <td title={item.password}>\r\n                        {item.password ? '••••••••••••' : '-'}\r\n                      </td>\r\n                      <td title={item.address}>{item.address}</td>\r\n                      <td className=\"text-center\">{item.sex}</td>\r\n                      <td>{item.birthday}</td>\r\n                      <td>\r\n                        <Link href={`/admin/users/edit/${item.id}`} className=\"btn btn-warning\">\r\n                          Edit\r\n                        </Link>\r\n                      </td>\r\n                      <td>\r\n                        <button \r\n                          className=\"btn btn-danger\" \r\n                          type=\"button\" \r\n                          onClick={() => handleDelete(item.id)}\r\n                        >\r\n                          <i className=\"fa fa-trash\"></i> Del\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br /><br />\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}